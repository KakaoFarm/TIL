# 5. 비즈니스 로직 설계

## 도입부

### 마이크로서비스 아키텍처에서의 비즈니스 로직

복잡한 비즈니스 로직을 개발하기 까다로움

-   도메인 모델은 대부분 상호 연관된 클래스가 거미줄처럼 뒤얽혀 있음.
    -   서비스 경계를 넘나드는 객체 레퍼런스를 제거해야 함.
-   마이크로서비스 아키텍처 특유의 트랜잭션 관리 제약 조건하에서도 작동되는 비즈니스 로직 설계
    -   여러 서비스에 걸쳐 데이터 일관성을 유지하려면 `사가 패턴`을 적용해야 함.

### 해결방안

-   서비스 비즈니스 로직을 여러 애그리거트로 구성하는 DDD 애그리거트(aggregate) 패턴으로 해결.
-   애그리거트(aggregate): 한 단위로 취급 가능한 객체를 모아 놓은 것.

### 애그리거트

-   애그리거트를 사용하면 객체 레퍼런스가 서비스 경계를 넘나들 일이 없음.
    -   객체 참조 대신 기본키(pk)를 이용하여 참조.
-   한 트랜잭션으로 하나의 애그리거트만 생성/수정.

## 목차
